<Window x:Class="PackageManager.Function.Path.LocalPathSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:button="clr-namespace:CustomControlLibrary.CustomControl.Controls.Button;assembly=CustomControlLibrary"
        xmlns:controls="clr-namespace:CustomControlLibrary.CustomControl.Controls;assembly=CustomControlLibrary"
        xmlns:local="clr-namespace:PackageManager.Function.Path"
        xmlns:models="clr-namespace:PackageManager.Models"
        xmlns:treeView="clr-namespace:CustomControlLibrary.CustomControl.Controls.TreeView;assembly=CustomControlLibrary"
        Title="本地包路径设置" Height="540" Width="950"
        WindowStartupLocation="CenterOwner"
        Loaded="Window_Loaded">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="为每个产品设置本地包路径" FontSize="18" FontWeight="Bold"/>

        <!-- 单列布局：只保留树，路径显示与浏览操作在树中完成 -->
        <Grid Grid.Row="1" Margin="0,12,0,12">
            <treeView:CTreeView x:Name="LocalPathTree"
                                ItemsSource="{Binding AllVersionItems}"
                                EnableAutoTemplateGeneration="True"
                                DisplayMemberPath="Name"
                                ChildrenMemberPath="Children"
                                BorderBrush="#DDD"
                                BorderThickness="1"
                                VerticalAlignment="Stretch"
                                SelectedItemChanged="LocalPathTree_SelectedItemChanged"/>
        </Grid>
        
        
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <button:CButton Content="保存" Width="100" Margin="0,0,10,0" Click="SaveButton_Click"/>
            <button:CButton Content="取消" Width="100" Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
